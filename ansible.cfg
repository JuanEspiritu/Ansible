# =============================================================================
# CONFIGURACIÓN PRINCIPAL DE ANSIBLE - LABORATORIO ACADÉMICO Y GAMING
# =============================================================================
# Este archivo configura Ansible para el proyecto de laboratorio académico
# y gaming con Ubuntu Server y Pop OS VMs.
# =============================================================================

[defaults]
# Inventario simplificado - UN SOLO archivo
inventory = inventory/hosts.yml
host_key_checking = False

# Usuario por defecto y autenticación
remote_user = ubuntu
private_key_file = ~/.ssh/ansible_rsa
ask_pass = False
ask_sudo_pass = False

# Configuración de tiempo de espera
timeout = 30
poll_interval = 15

# Cache de facts para mejorar rendimiento
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cache
fact_caching_timeout = 86400

# Configuración de logs y salida
log_path = /var/log/ansible.log
stdout_callback = default
bin_ansible_callbacks = True
deprecation_warnings = False

# Configuración de paralelismo
forks = 10

# Configuración de roles - Estructura reorganizada
roles_path = roles/:~/.ansible/roles/:/usr/share/ansible/roles/:/etc/ansible/roles

# Configuración de escalada de privilegios
become = False
become_method = sudo
become_user = root
become_ask_pass = False

# Configuración de retry
retry_files_enabled = True
retry_files_save_path = ~/ansible-retry

# =============================================================================
# CONFIGURACIÓN DE CONEXIÓN SSH
# =============================================================================
[ssh_connection]
# Configuración SSH con proxy jump
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o AddressFamily=inet
pipelining = True
control_path = /tmp/ansible-ssh-%%h-%%p-%%r

# =============================================================================
# NOTAS DE CONFIGURACIÓN:
# =============================================================================
# 
# Esta configuración está optimizada para:
# - Ubuntu Server (infraestructura) - IP: 172.17.25.87
# - Pop OS VMs (gaming y académico)  
# - Conexiones SSH con usuario ubuntu
# - Ejecución de roles modulares en orden:
#   1. gestion_procesos
#   2. usuarios_y_politicas  
#   3. automatizacion_tareas
#   4. almacenamiento_y_fs
# 
# Uso principal:
# ansible-playbook playbooks/main.yml
# 
# =============================================================================